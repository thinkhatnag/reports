<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Noki ‚Äî Test Reports</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Syne:wght@700;800&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#0a0c10;
  --sf:#111318;
  --sf2:#181c24;
  --sf3:#1e2330;
  --bd:#252b38;
  --bd2:#2e3748;
  --tx:#e8ecf4;
  --txm:#8892a4;
  --txd:#3d4759;
  --ios:#4f9eff;
  --ios-dim:rgba(79,158,255,.12);
  --ios-glow:rgba(79,158,255,.25);
  --and:#34d17a;
  --and-dim:rgba(52,209,122,.10);
  --and-glow:rgba(52,209,122,.22);
  --pass:#34d17a;
  --fail:#f04f6e;
  --skip:#f5c843;
  --mono:'Space Mono',monospace;
  --display:'Syne',sans-serif;
}
html{scroll-behavior:smooth}
body{
  font-family:var(--mono);
  background:var(--bg);
  color:var(--tx);
  min-height:100vh;
  overflow-x:hidden;
}
body::before{
  content:'';
  position:fixed;
  inset:0;
  background-image:
    linear-gradient(rgba(79,158,255,.03) 1px,transparent 1px),
    linear-gradient(90deg,rgba(79,158,255,.03) 1px,transparent 1px);
  background-size:48px 48px;
  pointer-events:none;
  z-index:0;
}
.page{
  max-width:960px;
  margin:0 auto;
  padding:60px 24px 80px;
  position:relative;
  z-index:1;
}

/* HEADER */
.hdr{margin-bottom:56px;position:relative}
.hdr-eyebrow{
  font-size:10px;letter-spacing:3px;text-transform:uppercase;
  color:var(--txm);margin-bottom:14px;
  display:flex;align-items:center;gap:10px;
}
.hdr-eyebrow::after{content:'';height:1px;width:60px;background:var(--bd2);display:inline-block}
.hdr h1{
  font-family:var(--display);
  font-size:clamp(38px,6vw,66px);
  font-weight:800;line-height:1.0;letter-spacing:-2px;
  color:var(--tx);margin-bottom:14px;
}
.hdr h1 em{
  font-style:normal;
  background:linear-gradient(135deg,var(--ios) 0%,var(--and) 100%);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
}
.hdr-sub{font-size:11px;color:var(--txm);letter-spacing:.5px;line-height:1.8}
.hdr-orb{
  position:absolute;top:-30px;right:-40px;width:280px;height:280px;border-radius:50%;
  background:radial-gradient(ellipse at center,rgba(79,158,255,.06) 0%,transparent 70%);
  pointer-events:none;
}

/* LIVE BADGE */
.live-badge{
  display:inline-flex;align-items:center;gap:7px;
  background:var(--sf2);border:1px solid var(--bd);
  padding:5px 14px;border-radius:100px;font-size:10px;
  color:var(--txm);letter-spacing:1px;text-transform:uppercase;margin-bottom:36px;
}
.live-dot{
  width:6px;height:6px;border-radius:50%;background:var(--pass);
  animation:pulse 2s ease-in-out infinite;
}
@keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.4;transform:scale(.7)}}

/* SECTION LABEL */
.section-label{
  font-size:10px;letter-spacing:2.5px;text-transform:uppercase;
  color:var(--txd);margin-bottom:16px;
  display:flex;align-items:center;gap:12px;
}
.section-label::after{content:'';flex:1;height:1px;background:var(--bd)}

/* PLATFORM SECTIONS */
.platform{margin-bottom:44px}

/* CARD */
.card{
  display:block;text-decoration:none;
  background:var(--sf);border:1px solid var(--bd);border-radius:16px;
  padding:28px 32px;position:relative;overflow:hidden;
  transition:transform .25s cubic-bezier(.16,1,.3,1),border-color .25s,box-shadow .25s;
}
.card::before{content:'';position:absolute;inset:0;opacity:0;transition:opacity .3s}
.card.ios{border-left:3px solid var(--ios)}
.card.ios::before{background:radial-gradient(ellipse at 8% 50%,var(--ios-dim) 0%,transparent 65%)}
.card.ios:hover{border-color:var(--ios);box-shadow:0 0 0 1px var(--ios-glow),0 20px 60px rgba(0,0,0,.4);transform:translateY(-3px)}
.card.ios:hover::before{opacity:1}
.card.android{border-left:3px solid var(--and)}
.card.android::before{background:radial-gradient(ellipse at 8% 50%,var(--and-dim) 0%,transparent 65%)}
.card.android:hover{border-color:var(--and);box-shadow:0 0 0 1px var(--and-glow),0 20px 60px rgba(0,0,0,.4);transform:translateY(-3px)}
.card.android:hover::before{opacity:1}
.card-inner{position:relative;z-index:1}

/* CARD TOP */
.card-top{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}
.card-platform{display:flex;align-items:center;gap:14px}
.card-icon{font-size:30px;line-height:1}
.card-title{font-family:var(--display);font-size:21px;font-weight:700;color:var(--tx);letter-spacing:-.5px}
.card-subtitle{font-size:10px;color:var(--txm);letter-spacing:1px;margin-top:3px;text-transform:uppercase}
.card-arrow{
  width:36px;height:36px;border:1px solid var(--bd2);border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  color:var(--txm);font-size:16px;flex-shrink:0;
  transition:all .2s;
}
.card:hover .card-arrow{background:var(--sf3);color:var(--tx);transform:rotate(45deg)}

/* CARD META */
.card-meta{font-size:10px;color:var(--txd);margin-bottom:20px;letter-spacing:.5px}
.card-meta span{color:var(--txm)}

/* STATS ROW */
.stats-row{
  display:flex;gap:0;
  background:var(--sf2);border:1px solid var(--bd);border-radius:10px;overflow:hidden;
}
.stat-cell{flex:1;padding:14px 16px;border-right:1px solid var(--bd);position:relative}
.stat-cell:last-child{border-right:none}
.stat-label{font-size:9px;letter-spacing:1.5px;text-transform:uppercase;color:var(--txd);margin-bottom:6px}
.stat-val{font-family:var(--display);font-size:28px;font-weight:700;line-height:1}
.stat-cell.total .stat-val{color:var(--tx)}
.stat-cell.pass  .stat-val{color:var(--pass)}
.stat-cell.fail  .stat-val{color:var(--fail)}
.stat-cell.skip  .stat-val{color:var(--skip)}
.stat-cell.pass::after,.stat-cell.fail::after,.stat-cell.skip::after{
  content:'';position:absolute;bottom:0;left:0;right:0;height:2px;opacity:.4;
}
.stat-cell.pass::after{background:var(--pass)}
.stat-cell.fail::after{background:var(--fail)}
.stat-cell.skip::after{background:var(--skip)}

/* PROGRESS BAR */
.progress-wrap{
  margin-top:14px;height:4px;background:var(--sf2);border-radius:2px;overflow:hidden;display:flex;
}
.progress-pass{height:100%;background:var(--pass);transition:width .9s cubic-bezier(.16,1,.3,1)}
.progress-fail{height:100%;background:var(--fail);transition:width .9s cubic-bezier(.16,1,.3,1)}
.progress-skip{height:100%;background:var(--skip);transition:width .9s cubic-bezier(.16,1,.3,1)}

/* NOT READY STATE */
.not-ready{
  background:var(--sf2);border:1px solid var(--bd);border-radius:10px;
  padding:16px 18px;font-size:10px;color:var(--txm);
  display:flex;align-items:center;gap:10px;letter-spacing:.3px;
}
.not-ready-dot{width:8px;height:8px;border-radius:50%;background:var(--bd2);flex-shrink:0}

/* SKELETON */
.skel{
  background:linear-gradient(90deg,var(--sf2) 25%,var(--sf3) 50%,var(--sf2) 75%);
  background-size:200% 100%;animation:shimmer 1.5s infinite;
  border-radius:4px;height:1em;display:inline-block;
}
@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}

/* FOOTER */
.footer{
  margin-top:72px;padding-top:24px;border-top:1px solid var(--bd);
  display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;
}
.footer-left{font-size:10px;color:var(--txd);letter-spacing:.5px}
.footer-stack{display:flex;align-items:center;gap:8px;font-size:10px;color:var(--txd)}
.fdot{width:4px;height:4px;border-radius:50%;background:var(--bd2)}

/* ANIMATIONS */
@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.platform:nth-child(1) .card{animation:fadeUp .5s .1s cubic-bezier(.16,1,.3,1) both}
.platform:nth-child(2) .card{animation:fadeUp .5s .2s cubic-bezier(.16,1,.3,1) both}
</style>
</head>
<body>
<div class="page">

  <div class="hdr">
    <div class="hdr-orb"></div>
    <div class="hdr-eyebrow">Noki Mobile QA</div>
    <h1>Test<br/><em>Reports</em></h1>
    <p class="hdr-sub">WebdriverIO ¬∑ Appium ¬∑ Allure &mdash; iOS &amp; Android</p>
  </div>

  <div class="live-badge">
    <span class="live-dot"></span>
    Live report data
  </div>

  <!-- iOS -->
  <section class="platform">
    <div class="section-label">iOS Platform</div>
    <a href="test-report.html" class="card ios">
      <div class="card-inner">
        <div class="card-top">
          <div class="card-platform">
            <div class="card-icon">üçé</div>
            <div>
              <div class="card-title">iOS Test Run</div>
              <div class="card-subtitle">XCUITest ¬∑ iPhone 16</div>
            </div>
          </div>
          <div class="card-arrow">‚Üó</div>
        </div>
        <div class="card-meta" id="ios-meta"><span class="skel" style="width:220px">&nbsp;</span></div>
        <div id="ios-body">
          <div class="stats-row">
            <div class="stat-cell total"><div class="stat-label">Total</div><div class="stat-val" id="ios-total">‚Äî</div></div>
            <div class="stat-cell pass"> <div class="stat-label">Passed</div><div class="stat-val" id="ios-pass">‚Äî</div></div>
            <div class="stat-cell fail"> <div class="stat-label">Failed</div><div class="stat-val" id="ios-fail">‚Äî</div></div>
            <div class="stat-cell skip"> <div class="stat-label">Skipped</div><div class="stat-val" id="ios-skip">‚Äî</div></div>
          </div>
          <div class="progress-wrap">
            <div class="progress-pass" id="ios-bar-pass" style="width:0%"></div>
            <div class="progress-fail" id="ios-bar-fail" style="width:0%"></div>
            <div class="progress-skip" id="ios-bar-skip" style="width:0%"></div>
          </div>
        </div>
      </div>
    </a>
  </section>

  <!-- Android -->
  <section class="platform">
    <div class="section-label">Android Platform</div>
    <a href="android-test-report.html" class="card android">
      <div class="card-inner">
        <div class="card-top">
          <div class="card-platform">
            <div class="card-icon">ü§ñ</div>
            <div>
              <div class="card-title">Android Test Run</div>
              <div class="card-subtitle">UIAutomator2 ¬∑ Physical Device</div>
            </div>
          </div>
          <div class="card-arrow">‚Üó</div>
        </div>
        <div class="card-meta" id="and-meta"><span class="skel" style="width:220px">&nbsp;</span></div>
        <div id="and-body">
          <div class="stats-row">
            <div class="stat-cell total"><div class="stat-label">Total</div><div class="stat-val" id="and-total">‚Äî</div></div>
            <div class="stat-cell pass"> <div class="stat-label">Passed</div><div class="stat-val" id="and-pass">‚Äî</div></div>
            <div class="stat-cell fail"> <div class="stat-label">Failed</div><div class="stat-val" id="and-fail">‚Äî</div></div>
            <div class="stat-cell skip"> <div class="stat-label">Skipped</div><div class="stat-val" id="and-skip">‚Äî</div></div>
          </div>
          <div class="progress-wrap">
            <div class="progress-pass" id="and-bar-pass" style="width:0%"></div>
            <div class="progress-fail" id="and-bar-fail" style="width:0%"></div>
            <div class="progress-skip" id="and-bar-skip" style="width:0%"></div>
          </div>
        </div>
      </div>
    </a>
  </section>

  <div class="footer">
    <div class="footer-left">Noki Mobile QA ¬∑ Automated Test Reports</div>
    <div class="footer-stack">
      WebdriverIO <div class="fdot"></div> Appium <div class="fdot"></div> Allure
    </div>
  </div>

</div>
<script>
// Reads the embedded var D={...} from your generated test-report.html / android-test-report.html
// These files already have D embedded ‚Äî no server needed, pure static.
async function loadStats(reportUrl, ids) {
  try {
    const res = await fetch(reportUrl, { cache: 'no-store' });
    if (!res.ok) throw new Error('missing');
    const text = await res.text();

    // Match the embedded data block in your generated reports
    const m = text.match(/var\s+D\s*=\s*(\{[\s\S]*?\});\s*\n/);
    if (!m) throw new Error('no D block');
    const d = JSON.parse(m[1]);
    const { total, passed, failed, skipped } = d.stats;

    document.getElementById(ids.meta).innerHTML =
      'Generated: <span>' + d.meta.reportDate + '</span>' +
      '&nbsp;¬∑&nbsp;Platform: <span>' + d.meta.platform + '</span>';

    document.getElementById(ids.total).textContent = total;
    document.getElementById(ids.pass).textContent  = passed;
    document.getElementById(ids.fail).textContent  = failed;
    document.getElementById(ids.skip).textContent  = skipped;

    if (total > 0) {
      setTimeout(() => {
        document.getElementById(ids.barPass).style.width = (passed / total * 100) + '%';
        document.getElementById(ids.barFail).style.width = (failed / total * 100) + '%';
        document.getElementById(ids.barSkip).style.width = (skipped / total * 100) + '%';
      }, 400);
    }
  } catch(e) {
    document.getElementById(ids.meta).innerHTML =
      '<span style="color:var(--txd)">Not yet generated ‚Äî run tests first</span>';
    document.getElementById(ids.body).innerHTML =
      '<div class="not-ready"><span class="not-ready-dot"></span>Report will appear here after first test run</div>';
  }
}

loadStats('test-report.html', {
  meta:'ios-meta', body:'ios-body',
  total:'ios-total', pass:'ios-pass', fail:'ios-fail', skip:'ios-skip',
  barPass:'ios-bar-pass', barFail:'ios-bar-fail', barSkip:'ios-bar-skip'
});
loadStats('android-test-report.html', {
  meta:'and-meta', body:'and-body',
  total:'and-total', pass:'and-pass', fail:'and-fail', skip:'and-skip',
  barPass:'and-bar-pass', barFail:'and-bar-fail', barSkip:'and-bar-skip'
});
</script>
</body>
</html>