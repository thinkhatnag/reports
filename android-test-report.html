<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Android Test Report</title>
<style>

*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#f8f9fb;--sf:#ffffff;--sf2:#f4f6f8;--sf3:#e8ebf0;
  --bd:#d4d9e1;--bd2:#b0b8c8;
  --tx:#1a202c;--txm:#4a5568;--txd:#cbd5e0;
  --pass:#16a34a;--pass-bg:rgba(22,163,74,.08);
  --fail:#dc2626;--fail-bg:rgba(220,38,38,.08);
  --skip:#d97706;--skip-bg:rgba(217,119,6,.08);
  --acc:#3dba6f;
  --r:6px;--rl:10px;
  --mono:'Courier New',monospace;
}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:var(--bg);color:var(--tx);padding:20px;min-height:100vh}
.page{max-width:1300px;margin:0 auto}
.hdr{padding:22px 26px;background:var(--sf);border:1px solid var(--bd);border-radius:var(--rl);margin-bottom:14px;display:flex;align-items:flex-start;justify-content:space-between;gap:14px;flex-wrap:wrap}
.hdr h1{font-size:19px;font-weight:700;letter-spacing:-.3px;font-family:var(--mono)}
.hdr h1 span{color:var(--acc)}
.hdr-meta{margin-top:5px;font-size:11px;color:var(--txm);font-family:var(--mono)}
.back{font-size:11px;color:var(--txm);text-decoration:none;border:1px solid var(--bd);padding:5px 11px;border-radius:var(--r);transition:.15s;white-space:nowrap}
.back:hover{color:var(--tx);border-color:var(--bd2)}
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px;margin-bottom:14px}
.sc{background:var(--sf);border:1px solid var(--bd);border-radius:var(--rl);padding:15px 16px;position:relative;overflow:hidden}
.sc::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:var(--acc);border-radius:var(--rl) var(--rl) 0 0}
.sc.p::before{background:var(--pass)}.sc.f::before{background:var(--fail)}.sc.s::before{background:var(--skip)}
.sc-lbl{font-size:10px;font-weight:700;letter-spacing:.8px;text-transform:uppercase;color:var(--txm);margin-bottom:6px;font-family:var(--mono)}
.sc-val{font-size:32px;font-weight:700;font-family:var(--mono);line-height:1}
.sc.p .sc-val{color:var(--pass)}.sc.f .sc-val{color:var(--fail)}.sc.s .sc-val{color:var(--skip)}
.legend{background:var(--sf);border:1px solid var(--bd);border-radius:var(--rl);padding:10px 16px;margin-bottom:10px;display:flex;gap:14px;flex-wrap:wrap;align-items:center}
.leg-ttl{font-size:10px;font-family:var(--mono);font-weight:700;text-transform:uppercase;letter-spacing:.6px;color:var(--txm);margin-right:4px}
.leg-item{display:flex;align-items:center;gap:5px;font-size:11px;color:var(--txm)}
.lb{display:inline-flex;align-items:center;justify-content:center;padding:2px 8px;border-radius:100px;font-size:10px;font-weight:700;font-family:var(--mono)}
.lb.p{background:var(--pass-bg);color:var(--pass);border:1px solid var(--pass)}
.lb.f{background:var(--fail-bg);color:var(--fail);border:1px solid var(--fail)}
.lb.s{background:var(--skip-bg);color:var(--skip);border:1px solid var(--skip)}
.toolbar{background:var(--sf);border:1px solid var(--bd);border-radius:var(--rl);padding:10px 14px;margin-bottom:10px;display:flex;align-items:center;gap:8px;flex-wrap:wrap;justify-content:space-between}
.fg,.eg{display:flex;gap:5px;flex-wrap:wrap;align-items:center}
.flbl{font-size:10px;color:var(--txm);font-family:var(--mono);font-weight:700;letter-spacing:.4px;text-transform:uppercase;margin-right:2px}
.fbtn{padding:4px 11px;border-radius:100px;border:1px solid var(--bd);background:transparent;color:var(--txm);font-size:11px;font-family:var(--mono);font-weight:700;cursor:pointer;transition:.15s}
.fbtn:hover{border-color:var(--bd2);color:var(--tx)}
.fbtn.on{background:var(--sf3);color:var(--tx);border-color:var(--bd2)}
.fbtn[data-f="passed"].on{background:var(--pass-bg);color:var(--pass);border-color:var(--pass)}
.fbtn[data-f="failed"].on{background:var(--fail-bg);color:var(--fail);border-color:var(--fail)}
.fbtn[data-f="skipped"].on{background:var(--skip-bg);color:var(--skip);border-color:var(--skip)}
.cbtn{padding:4px 11px;border-radius:var(--r);border:1px solid var(--bd);background:transparent;color:var(--txm);font-size:11px;font-family:var(--mono);cursor:pointer;transition:.15s}
.cbtn:hover{border-color:var(--bd2);color:var(--tx);background:var(--sf2)}
.sind{font-size:10px;font-family:var(--mono);color:var(--pass);opacity:0;margin-left:6px;transition:opacity .3s}
.sind.show{opacity:1}
.suites{display:flex;flex-direction:column;gap:7px}
.sblock{background:var(--sf);border:1px solid var(--bd);border-radius:var(--rl);overflow:hidden;transition:border-color .15s}
.sblock:hover{border-color:var(--bd2)}
.sblock.gone{display:none}
.shdr{display:flex;align-items:center;gap:11px;padding:12px 16px;cursor:pointer;user-select:none;transition:background .15s;flex-wrap:wrap}
.shdr:hover{background:var(--sf2)}
.chev{width:16px;height:16px;flex-shrink:0;color:var(--txm);transition:transform .2s;display:flex;align-items:center;justify-content:center}
.sblock.open .chev{transform:rotate(90deg)}
.sname{font-family:var(--mono);font-size:13px;font-weight:700;color:var(--tx);flex:1;min-width:0;word-break:break-word}
.suite-order{font-size:10px;font-family:var(--mono);color:var(--txm);background:var(--sf3);border:1px solid var(--bd);border-radius:4px;padding:2px 7px;flex-shrink:0}
.pills-c,.pills-e{display:flex;gap:5px;align-items:center;flex-wrap:wrap}
.sblock.open .pills-c{display:none}
.pills-e{display:none}
.sblock.open .pills-e{display:flex}
.pill{display:inline-flex;align-items:center;gap:3px;padding:2px 9px;border-radius:100px;font-size:10px;font-weight:700;font-family:var(--mono)}
.pill.t{background:var(--sf3);color:var(--txm);border:1px solid var(--bd)}
.pill.p{background:var(--pass-bg);color:var(--pass);border:1px solid rgba(31,209,122,.2)}
.pill.f{background:var(--fail-bg);color:var(--fail);border:1px solid rgba(240,80,110,.2)}
.pill.s{background:var(--skip-bg);color:var(--skip);border:1px solid rgba(245,192,67,.2)}
.sbody{display:none;border-top:1px solid var(--bd)}
.sblock.open .sbody{display:block}
.ttbl{width:100%;border-collapse:collapse}
.ttbl thead th{padding:8px 14px;text-align:left;font-size:10px;font-weight:700;font-family:var(--mono);text-transform:uppercase;letter-spacing:.5px;color:var(--txm);background:var(--sf2);border-bottom:1px solid var(--bd)}
.ttbl thead th.seq-col{width:36px;text-align:center}
.ttbl tbody tr{border-bottom:1px solid var(--bd);transition:background .1s}
.ttbl tbody tr:last-child{border-bottom:none}
.ttbl tbody tr:hover{background:var(--sf2)}
.ttbl tbody tr.hide{display:none}
.ttbl td{padding:10px 14px;vertical-align:middle}
.seq-num{width:36px;text-align:center;font-size:10px;font-family:var(--mono);color:var(--txm);font-weight:700}
.tname{font-size:12px;color:var(--tx);font-weight:500;min-width:200px;max-width:370px;word-break:break-word;line-height:1.5}
.sb{display:inline-flex;align-items:center;padding:3px 9px;border-radius:100px;font-size:10px;font-weight:700;font-family:var(--mono);white-space:nowrap}
.sb.passed{background:var(--pass-bg);color:var(--pass);border:1px solid rgba(31,209,122,.25)}
.sb.failed{background:var(--fail-bg);color:var(--fail);border:1px solid rgba(240,80,110,.25);cursor:help;position:relative}
.sb.skipped{background:var(--skip-bg);color:var(--skip);border:1px solid rgba(245,192,67,.25)}
.err-tip{display:none;position:absolute;left:0;top:calc(100% + 5px);min-width:220px;max-width:380px;background:#ffffff;color:#1a202c;border:1px solid #dc2626;padding:10px 12px;border-radius:6px;font-size:11px;white-space:pre-wrap;word-break:break-word;z-index:30;font-weight:400;line-height:1.6;pointer-events:none;font-family:var(--mono);box-shadow:0 6px 16px rgba(0,0,0,.15)}
.sb.failed:hover .err-tip{display:block}
.ci{width:100%;min-width:150px;padding:5px 9px;background:var(--sf2);border:1px solid var(--bd);border-radius:6px;color:var(--tx);font-size:11px;transition:.15s}
.ci:focus{outline:none;border-color:var(--acc);box-shadow:0 0 0 2px rgba(61,186,111,.12)}
.nores{text-align:center;padding:40px;color:var(--txm);font-family:var(--mono);font-size:12px;display:none}
.nores.show{display:block}
.exp-row{margin-top:12px;display:flex;gap:10px;align-items:center}
.exp-btn{padding:7px 18px;background:var(--acc);color:#fff;border:none;border-radius:6px;font-size:12px;font-weight:700;font-family:var(--mono);cursor:pointer;transition:opacity .15s}
.exp-btn:hover{opacity:.85}
.footer{margin-top:28px;text-align:center;font-size:11px;font-family:var(--mono);color:var(--txd)}

</style>
</head>
<body>
<div class="page">
<div class="hdr">
  <div>  <h1>&#129302; Android Test Report </h1>

  <div class="hdr-meta" id="hdrMeta">Loading&hellip;</div>
  </div>
  <a href="report/index.html" class="back">&larr; Dashboard</a>
</div>
<div class="stats">
  <div class="sc"><div class="sc-lbl">Total</div><div class="sc-val" id="sTotal">0</div></div>
  <div class="sc p"><div class="sc-lbl">&#10003; Passed</div><div class="sc-val" id="sPassed">0</div></div>
  <div class="sc f"><div class="sc-lbl">&#10007; Failed</div><div class="sc-val" id="sFailed">0</div></div>
  <div class="sc s"><div class="sc-lbl">&#8855; Skipped</div><div class="sc-val" id="sSkipped">0</div></div>
</div>
<div class="legend">
  <span class="leg-ttl">Legend</span>
  <div class="leg-item"><span class="lb p">&#10003; PASS</span> Test passed</div>
  <div class="leg-item"><span class="lb f">&#10007; FAIL</span> Test failed</div>
  <div class="leg-item"><span class="lb s">&#8855; SKIP</span> Skipped</div>
</div>
<div class="toolbar">
  <div class="fg">
    <span class="flbl">Filter:</span>
    <button class="fbtn on" data-f="all"     onclick="setF('all')">All</button>
    <button class="fbtn"    data-f="passed"  onclick="setF('passed')">&#10003; Pass</button>
    <button class="fbtn"    data-f="failed"  onclick="setF('failed')">&#10007; Fail</button>
    <button class="fbtn"    data-f="skipped" onclick="setF('skipped')">&#8855; Skip</button>
  </div>
  <div class="eg">
    <button class="cbtn" onclick="expandAll()">Expand All</button>
    <button class="cbtn" onclick="collapseAll()">Collapse All</button>
    <span class="sind" id="sind">&#10003; Saved</span>
  </div>
</div>
<div class="suites" id="suites"></div>
<div class="nores" id="nores">No tests match the current filter.</div>
<div class="exp-row">
  <button class="exp-btn" onclick="exportCSV()">&#128229; Export CSV</button>
</div>
<div class="footer">WebdriverIO + Appium + Allure &mdash; Android Automated Test Report</div>
</div>
<script>

var D = {"suites":[{"name":"Login","pairs":[{"base":"Login Error message verification: \"short Password\"","en":{"name":"Login Error message verification: \"short Password\"","baseTestName":"Login Error message verification: \"short Password\"","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":17057,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Login Error message verification: \"short password\"","en":null,"es":{"name":"Login Error message verification: \"short password\" -Es","baseTestName":"Login Error message verification: \"short password\"","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":16011,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Login Error messge verification: \"Email is not provided\"","en":{"name":"Login Error messge verification: \"Email is not provided\"","baseTestName":"Login Error messge verification: \"Email is not provided\"","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":8840,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Login Error message verification: \"password not provided\"","en":null,"es":{"name":"Login Error message verification: \"password not provided\" -Es ","baseTestName":"Login Error message verification: \"password not provided\"","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":14204,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Login Error message verification: \"invalid Email\"","en":{"name":"Login Error message verification: \"invalid Email\"","baseTestName":"Login Error message verification: \"invalid Email\"","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":9080,"err":null,"isSpanish":false,"status":"passed"},"es":null}],"stats":{"total":5,"passed":5,"failed":0,"skipped":0}},{"name":"Existing Patient","pairs":[{"base":"Finalize encounter","en":{"name":"Finalize encounter","baseTestName":"Finalize encounter","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":6603,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Transcript Verification for the Draft Conversation","en":{"name":"Transcript Verification for the Draft Conversation","baseTestName":"Transcript Verification for the Draft Conversation","suite":"Existing Patient","passed":false,"skipped":false,"failed":true,"dur":10075,"err":"element (\"~Transcript\") still not displayed after 10000ms","isSpanish":false,"status":"broken"},"es":{"name":"Transcript Verification for the Draft Conversation -Es","baseTestName":"Transcript Verification for the Draft Conversation","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":18384,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Trascript verification","en":null,"es":{"name":"Trascript verification -Es","baseTestName":"Trascript verification","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":18319,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Patient info manual update","en":null,"es":{"name":"Patient info manual update -Es","baseTestName":"Patient info manual update","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":23186,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Offline Mode Stop and App Kill Verification","en":null,"es":{"name":"Offline Mode Stop and App Kill Verification -Es","baseTestName":"Offline Mode Stop and App Kill Verification","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":81919,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Transcript Verification for the Second Conversation","en":{"name":"Transcript Verification for the Second Conversation","baseTestName":"Transcript Verification for the Second Conversation","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":14788,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Hay Noki verification","en":null,"es":{"name":"Hay Noki verification -Es","baseTestName":"Hay Noki verification","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":76148,"err":null,"isSpanish":true,"status":"passed"}},{"base":"App Killed in Offline and Reopened in Online Mode Verification","en":{"name":"App Killed in Offline and Reopened in Online Mode Verification","baseTestName":"App Killed in Offline and Reopened in Online Mode Verification","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":57922,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"SoapNote Regeneration","en":{"name":"SoapNote Regeneration","baseTestName":"SoapNote Regeneration","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":67880,"err":null,"isSpanish":false,"status":"passed"},"es":null}],"stats":{"total":10,"passed":9,"failed":1,"skipped":0}},{"name":"Forgot Password","pairs":[{"base":"Verify Reset Password mail generation","en":null,"es":{"name":"Verify Reset Password mail generation -Es","baseTestName":"Verify Reset Password mail generation","suite":"Forgot Password","passed":false,"skipped":false,"failed":true,"dur":21074,"err":"element (\"~El enlace para restablecer la contraseña ha sido enviado correctamente a su correo electrónico.\") still not displayed after 10000ms","isSpanish":true,"status":"broken"}},{"base":"Error message verifcation: \"Email not Enterd\"","en":{"name":"Error message verifcation: \"Email not Enterd\"","baseTestName":"Error message verifcation: \"Email not Enterd\"","suite":"Forgot Password","passed":true,"skipped":false,"failed":false,"dur":10356,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Error message verification: \"Email is not rigisterd\"","en":{"name":"Error message verification: \"Email is not rigisterd\"","baseTestName":"Error message verification: \"Email is not rigisterd\"","suite":"Forgot Password","passed":true,"skipped":false,"failed":false,"dur":12238,"err":null,"isSpanish":false,"status":"passed"},"es":null}],"stats":{"total":3,"passed":2,"failed":1,"skipped":0}},{"name":"New Patient","pairs":[{"base":"Referal Generation and Regeneration","en":null,"es":{"name":"Referal Generation and Regeneration-Es","baseTestName":"Referal Generation and Regeneration","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":53849,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Transcript Verification for the Second Conversation for the First Encounter","en":null,"es":{"name":"Transcript Verification for the Second Conversation for the First Encounter -Es","baseTestName":"Transcript Verification for the Second Conversation for the First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":42838,"err":null,"isSpanish":true,"status":"passed"}},{"base":"SOAP Note Generation for the First Encounter","en":{"name":"SOAP Note Generation for the First Encounter","baseTestName":"SOAP Note Generation for the First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":195910,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Care plan Generation and Regeneration","en":null,"es":{"name":"Care plan Generation and Regeneration-Es","baseTestName":"Care plan Generation and Regeneration","suite":"New Patient","passed":false,"skipped":false,"failed":true,"dur":140244,"err":"element (\"~Descargar\") still not displayed after 10000ms","isSpanish":true,"status":"broken"}},{"base":"SoapNote Regeneration","en":null,"es":{"name":"SoapNote Regeneration-Es","baseTestName":"SoapNote Regeneration","suite":"New Patient","passed":false,"skipped":false,"failed":true,"dur":11798,"err":"element (\"~Regenerar nota SOAP\") still not displayed after 10000ms","isSpanish":true,"status":"broken"}},{"base":"Transcript verification for the Second Conversation in First Encounter","en":{"name":"Transcript verification for the Second Conversation in First Encounter","baseTestName":"Transcript verification for the Second Conversation in First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":11749,"err":null,"isSpanish":false,"status":"passed"},"es":null}],"stats":{"total":6,"passed":4,"failed":2,"skipped":0}},{"name":"Setting","pairs":[{"base":"Verify Setting's screen launguage and general settings","en":{"name":"Verify Setting's screen launguage and general settings","baseTestName":"Verify Setting's screen launguage and general settings","suite":"Setting","passed":true,"skipped":false,"failed":false,"dur":16783,"err":null,"isSpanish":false,"status":"passed"},"es":null}],"stats":{"total":1,"passed":1,"failed":0,"skipped":0}}],"stats":{"total":25,"passed":21,"failed":4,"skipped":0},"meta":{"platform":"Android","reportDate":"2/23/2026, 12:06:03 PM","reportTS":"2026-02-23T06:36:03.357Z"}};

function sc(t){
  if(!t)return'';
  if(t.skipped)return'skipped';
  if(t.passed)return'passed';
  if(t.failed)return'failed';
  return'';
}
function slIcon(t){
  if(!t)return'';
  if(t.skipped)return'&#8855; SKIP';
  if(t.passed)return'&#10003; PASS';
  if(t.failed)return'&#10007; FAIL';
  return'';
}
function errTip(t){
  if(!t||!t.failed||!t.err)return'';
  var safe=t.err.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
  return'<span class="err-tip">'+safe+'</span>';
}

var suitesCont=document.getElementById('suites');
var rowIdx=0;

D.suites.forEach(function(suite,si){
  var name=suite.name,pairs=suite.pairs,stats=suite.stats;
  var block=document.createElement('div');
  block.className='sblock';
  block.setAttribute('data-si',si);

  var failPill=stats.failed?'<span class="pill f">&#10007; '+stats.failed+' failed</span>':'';
  var skipPill=stats.skipped?'<span class="pill s">&#8855; '+stats.skipped+' skipped</span>':'';
  var orderNum=si+1;

  block.innerHTML=
    '<div class="shdr" onclick="toggle('+si+')">'+
      '<div class="chev"><svg width="9" height="9" viewBox="0 0 9 9" fill="none"><path d="M2 1.5L6.5 4.5L2 7.5" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg></div>'+
      '<span class="suite-order">#'+orderNum+'</span>'+
      '<div class="sname">'+name+'</div>'+
      '<div class="pills-c">'+
        '<span class="pill t">'+stats.total+' tests</span>'+
        '<span class="pill p">&#10003; '+stats.passed+'</span>'+
        (stats.failed?'<span class="pill f">&#10007; '+stats.failed+'</span>':'')+
        (stats.skipped?'<span class="pill s">&#8855; '+stats.skipped+'</span>':'')+
      '</div>'+
      '<div class="pills-e">'+
        '<span class="pill t">'+stats.total+' total</span>'+
        '<span class="pill p">&#10003; '+stats.passed+' passed</span>'+
        failPill+skipPill+
      '</div>'+
    '</div>';

  var body=document.createElement('div');
  body.className='sbody';
  var table=document.createElement('table');
  table.className='ttbl';
  table.innerHTML='<thead><tr><th class="seq-col">#</th><th>Test Case</th><th>English</th><th>Spanish</th><th>Comments</th></tr></thead>';

  var tbody=document.createElement('tbody');
  var seqNum=1;

  pairs.forEach(function(pair){
    var base=pair.base,en=pair.en,es=pair.es;
    var key=rowIdx++;
    var enSC=sc(en),esSC=sc(es);

    var tr=document.createElement('tr');
    tr.setAttribute('data-k',key);
    tr.setAttribute('data-en',enSC);
    tr.setAttribute('data-es',esSC);

    var enHTML=en?'<span class="sb '+enSC+'">'+slIcon(en)+errTip(en)+'</span>':'';
    var esHTML=es?'<span class="sb '+esSC+'">'+slIcon(es)+errTip(es)+'</span>':'';

    tr.innerHTML=
      '<td class="seq-num">'+seqNum+'</td>'+
      '<td class="tname">'+base+'</td>'+
      '<td>'+enHTML+'</td>'+
      '<td>'+esHTML+'</td>'+
      '<td><input class="ci" type="text" data-k="'+key+'" placeholder="Add comment" oninput="saveC('+key+',this.value)"/></td>';

    tbody.appendChild(tr);
    seqNum++;
  });

  table.appendChild(tbody);
  body.appendChild(table);
  block.appendChild(body);
  suitesCont.appendChild(block);
});

document.getElementById('sTotal').textContent=D.stats.total;
document.getElementById('sPassed').textContent=D.stats.passed;
document.getElementById('sFailed').textContent=D.stats.failed;
document.getElementById('sSkipped').textContent=D.stats.skipped;
document.getElementById('hdrMeta').textContent='Platform: '+D.meta.platform+'  |  Generated: '+D.meta.reportDate;

function toggle(si){
  document.querySelector('.sblock[data-si="'+si+'"]').classList.toggle('open');
}
function expandAll(){
  document.querySelectorAll('.sblock:not(.gone)').forEach(function(b){b.classList.add('open');});
}
function collapseAll(){
  document.querySelectorAll('.sblock').forEach(function(b){b.classList.remove('open');});
}
function setF(f){
  document.querySelectorAll('.fbtn').forEach(function(b){b.classList.toggle('on',b.getAttribute('data-f')===f);});
  var vis=0;
  document.querySelectorAll('.sblock').forEach(function(block){
    var hits=0;
    block.querySelectorAll('tbody tr').forEach(function(row){
      var enS=row.getAttribute('data-en'),esS=row.getAttribute('data-es');
      var show=
        f==='all'    ?true:
        f==='passed' ?(enS==='passed'||esS==='passed'):
        f==='failed' ?(enS==='failed'||esS==='failed'):
        f==='skipped'?(enS==='skipped'||esS==='skipped'):true;
      row.classList.toggle('hide',!show);
      if(show)hits++;
    });
    var hide=hits===0;
    block.classList.toggle('gone',hide);
    if(!hide){vis++;block.classList.add('open');}
  });
  document.getElementById('nores').classList.toggle('show',vis===0);
}
function saveC(k,v){
  try{
    localStorage.setItem('android_c_'+k,v);
    var el=document.getElementById('sind');
    el.classList.add('show');
    clearTimeout(el._t);
    el._t=setTimeout(function(){el.classList.remove('show');},1800);
  }catch(e){}
}
function loadC(){
  document.querySelectorAll('.ci').forEach(function(inp){
    var v=localStorage.getItem('android_c_'+inp.getAttribute('data-k'));
    if(v)inp.value=v;
  });
}
function exportCSV(){
  function esc(s){return'"'+String(s).replace(/"/g,'""')+'"';}
  var rows=[['Suite','Test Case','English','Spanish','Comment']];
  var k=0;
  D.suites.forEach(function(suite){
    suite.pairs.forEach(function(pair){
      var en=pair.en,es=pair.es;
      var enStat=en?(en.skipped?'SKIP':en.passed?'PASS':'FAIL'):'';
      var esStat=es?(es.skipped?'SKIP':es.passed?'PASS':'FAIL'):'';
      var comment=localStorage.getItem('android_c_'+k)||'';
      rows.push([suite.name,pair.base,enStat,esStat,comment]);
      k++;
    });
  });
  var csv=rows.map(function(r){return r.map(esc).join(',');}).join('\n');
  var blob=new Blob([csv],{type:'text/csv;charset=utf-8;'});
  var url=URL.createObjectURL(blob);
  var a=document.createElement('a');
  a.href=url;
  a.download='android-test-report-'+D.meta.reportTS.split('T')[0]+'.csv';
  document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);
}
window.addEventListener('load',loadC);

</script>
</body>
</html>