<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>iOS Test Report</title>
<style>

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg:      #0a0c10;
  --sf:      #111318;
  --sf2:     #181c24;
  --sf3:     #1e2330;
  --bd:      #252b38;
  --bd2:     #2e3748;
  --tx:      #e8ecf4;
  --txm:     #8892a4;
  --txd:     #3d4759;
  --pass:    #34d17a;
  --fail:    #f04f6e;
  --skip:    #f5c843;
  --ios:     #4f9eff;
  --ios-dim:  rgba(79,158,255,.12);
  --ios-glow: rgba(79,158,255,.25);
  --and:     #34d17a;
  --and-dim:  rgba(52,209,122,.10);
  --and-glow: rgba(52,209,122,.22);
  --mono:    'Space Mono', monospace;
  --display: 'Syne', sans-serif;
}

html { scroll-behavior: smooth; }

body {
  font-family: var(--mono);
  background: var(--bg);
  color: var(--tx);
  min-height: 100vh;
  background-image:
    linear-gradient(rgba(79,158,255,.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(79,158,255,.03) 1px, transparent 1px);
  background-size: 48px 48px;
}

.page {
  max-width: 1300px;
  margin: 0 auto;
  padding: 40px 24px 80px;
}

.hdr {
  margin-bottom: 48px;
  position: relative;
}

.hdr h1 {
  font-family: var(--display);
  font-size: clamp(32px, 6vw, 56px);
  font-weight: 800;
  letter-spacing: -1.2px;
  line-height: 1.05;
  color: var(--tx);
}

.hdr h1 em {
  font-style: normal;
  background: linear-gradient(135deg, var(--ios) 0%, var(--and) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.hdr-meta {
  font-size: 13px;
  color: var(--txm);
  letter-spacing: 0.5px;
  margin-top: 8px;
}

/* Stats cards - similar hover/glow as dashboard */
.stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 16px;
  margin-bottom: 40px;
}

.sc {
  background: var(--sf);
  border: 1px solid var(--bd);
  border-radius: 16px;
  padding: 20px 24px;
  position: relative;
  overflow: hidden;
  transition: transform .25s cubic-bezier(.16,1,.3,1), border .25s, box-shadow .25s;
}

.sc:hover {
  transform: translateY(-3px);
  box-shadow: 0 0 0 1px var(--ios-glow), 0 16px 48px rgba(0,0,0,.35);
  border-color: var(--ios);
}

.sc::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at 10% 40%, var(--ios-dim) 0%, transparent 70%);
  opacity: 0;
  transition: opacity .35s;
  pointer-events: none;
}

.sc:hover::before { opacity: 1; }

.sc-lbl {
  font-size: 10px;
  letter-spacing: 1.4px;
  text-transform: uppercase;
  color: var(--txd);
  margin-bottom: 8px;
}

.sc-val {
  font-family: var(--display);
  font-size: 36px;
  font-weight: 800;
  line-height: 1;
}

.sc.total .sc-val { color: var(--tx); }
.sc.p     .sc-val { color: var(--pass); }
.sc.f     .sc-val { color: var(--fail); }
.sc.s     .sc-val { color: var(--skip); }

/* Legend, toolbar, buttons, suites, table, etc. */
.legend {
  background: var(--sf2);
  border: 1px solid var(--bd);
  border-radius: 14px;
  padding: 12px 18px;
  margin-bottom: 24px;
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
  font-size: 12px;
  color: var(--txm);
}

.leg-ttl { font-weight: 700; letter-spacing: 0.8px; }

.lb {
  min-width: 22px;
  height: 22px;
  border-radius: 6px;
  display: grid;
  place-items: center;
  font-size: 13px;
  font-weight: bold;
}

.lb.p { background: var(--pass); color: #000; }
.lb.f { background: var(--fail); color: #fff; }
.lb.s { background: var(--skip); color: #000; }

.toolbar {
  background: var(--sf);
  border: 1px solid var(--bd);
  border-radius: 14px;
  padding: 12px 18px;
  margin-bottom: 28px;
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: 16px;
}

.fg, .eg { display: flex; gap: 10px; flex-wrap: wrap; }

.fbtn {
  padding: 6px 14px;
  border-radius: 999px;
  border: 1px solid var(--bd);
  background: transparent;
  color: var(--txm);
  font-family: var(--mono);
  font-size: 11.5px;
  font-weight: 700;
  cursor: pointer;
  transition: all .2s;
}

.fbtn:hover { border-color: var(--bd2); color: var(--tx); background: var(--sf2); }

.fbtn.on { background: var(--sf3); color: var(--tx); border-color: var(--bd2); }

.fbtn[data-f="passed"].on  { background: var(--and-dim); border-color: var(--pass); color: var(--pass); }
.fbtn[data-f="failed"].on  { background: rgba(240,79,110,.09); border-color: var(--fail); color: var(--fail); }
.fbtn[data-f="skipped"].on { background: rgba(245,200,67,.07); border-color: var(--skip); color: var(--skip); }

/* ... continue with .sind, .suites, .sblock, .pill, table, .sb, .err-tip, .ci, .exp-btn, .footer ... */

.suites { display: flex; flex-direction: column; gap: 10px; }

.sblock {
  background: var(--sf);
  border: 1px solid var(--bd);
  border-radius: 16px;
  overflow: hidden;
}

.shdr {
  padding: 16px 22px;
  display: flex;
  align-items: center;
  gap: 14px;
  cursor: pointer;
  transition: background .2s;
}

.shdr:hover { background: var(--sf2); }

.sname {
  font-family: var(--display);
  font-size: 16px;
  font-weight: 800;
  letter-spacing: -0.3px;
  flex: 1;
}

.pill {
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 10.5px;
  font-weight: 700;
  font-family: var(--mono);
}

.pill.t { background: var(--sf2); color: var(--txm); border: 1px solid var(--bd); }
.pill.p { background: var(--and-dim); color: var(--pass); border: 1px solid rgba(52,209,122,.3); }
.pill.f { background: rgba(240,79,110,.1); color: var(--fail); border: 1px solid rgba(240,79,110,.3); }
.pill.s { background: rgba(245,200,67,.08); color: var(--skip); border: 1px solid rgba(245,200,67,.3); }

.sbody { display: none; border-top: 1px solid var(--bd); }
.sblock.open .sbody { display: block; }

.ttbl { width: 100%; border-collapse: collapse; }
.ttbl th {
  padding: 10px 16px;
  text-align: left;
  font-size: 10px;
  letter-spacing: 1px;
  text-transform: uppercase;
  color: var(--txd);
  background: var(--sf2);
  border-bottom: 1px solid var(--bd);
}
.ttbl td { padding: 12px 16px; }
.ttbl tr:hover { background: var(--sf3); }
.ttbl tr.hide { display: none; }

.tname { font-size: 13px; min-width: 240px; max-width: 440px; word-break: break-word; }

.sb {
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 700;
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.sb.passed  { background: var(--and-dim); color: var(--pass); border: 1px solid rgba(52,209,122,.35); }
.sb.failed  { background: rgba(240,79,110,.12); color: var(--fail); border: 1px solid rgba(240,79,110,.35); position: relative; cursor: help; }
.sb.skipped { background: rgba(245,200,67,.1); color: var(--skip); border: 1px solid rgba(245,200,67,.35); }

.err-tip {
  display: none;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  top: calc(100% + 10px);
  min-width: 260px;
  max-width: 480px;
  background: #1a0f14;
  color: #ffccd5;
  border: 1px solid var(--fail);
  padding: 12px 16px;
  border-radius: 10px;
  font-size: 12px;
  white-space: pre-wrap;
  z-index: 20;
  box-shadow: 0 8px 24px rgba(0,0,0,.55);
  font-family: var(--mono);
}

.sb.failed:hover .err-tip { display: block; }

.ci {
  width: 100%;
  padding: 8px 12px;
  background: var(--sf2);
  border: 1px solid var(--bd);
  border-radius: 8px;
  color: var(--tx);
  font-size: 12px;
  font-family: var(--mono);
}

.ci:focus {
  outline: none;
  border-color: var(--ios);
  box-shadow: 0 0 0 3px var(--ios-glow);
}

.exp-btn {
  padding: 10px 24px;
  background: linear-gradient(135deg, var(--ios), var(--and));
  color: white;
  border: none;
  border-radius: 12px;
  font-size: 14px;
  font-weight: 700;
  font-family: var(--display);
  cursor: pointer;
}

.footer {
  margin-top: 60px;
  text-align: center;
  font-size: 11px;
  color: var(--txd);
}

</style>
</head>
<body>
<div class="page">
<div class="hdr">
  <div class="hdr-meta" id="hdrMeta">Loading&hellip;</div>
</div>
<div class="stats">
  <div class="sc"><div class="sc-lbl">Total</div><div class="sc-val" id="sTotal">0</div></div>
  <div class="sc p"><div class="sc-lbl">&#10003; Passed</div><div class="sc-val" id="sPassed">0</div></div>
  <div class="sc f"><div class="sc-lbl">&#10007; Failed</div><div class="sc-val" id="sFailed">0</div></div>
  <div class="sc s"><div class="sc-lbl">&#8855; Skipped</div><div class="sc-val" id="sSkipped">0</div></div>
</div>
<div class="legend">
  <span class="leg-ttl">Legend</span>
  <div class="leg-item"><span class="lb p">&#10003; PASS</span> Test passed</div>
  <div class="leg-item"><span class="lb f">&#10007; FAIL</span> Test failed</div>
  <div class="leg-item"><span class="lb s">&#8855; SKIP</span> Skipped</div>
</div>
<div class="toolbar">
  <div class="fg">
    <span class="flbl">Filter:</span>
    <button class="fbtn on" data-f="all"     onclick="setF('all')">All</button>
    <button class="fbtn"    data-f="passed"  onclick="setF('passed')">&#10003; Pass</button>
    <button class="fbtn"    data-f="failed"  onclick="setF('failed')">&#10007; Fail</button>
    <button class="fbtn"    data-f="skipped" onclick="setF('skipped')">&#8855; Skip</button>
  </div>
  <div class="eg">
    <button class="cbtn" onclick="expandAll()">Expand All</button>
    <button class="cbtn" onclick="collapseAll()">Collapse All</button>
    <span class="sind" id="sind">&#10003; Saved</span>
  </div>
</div>
<div class="suites" id="suites"></div>
<div class="nores" id="nores">No tests match the current filter.</div>
<div class="exp-row">
  <button class="exp-btn" onclick="exportCSV()">&#128229; Export CSV</button>
</div>
<div class="footer">WebdriverIO + Appium + Allure &mdash; iOS Automated Test Report</div>
</div>
<script>

var D = {"suites":[{"name":"Existing Patient","pairs":[{"base":"New Encounter Creation","en":{"name":"New Encounter Creation","baseTestName":"New Encounter Creation","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":16841,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"New Encounter Creation -Es","baseTestName":"New Encounter Creation","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":23063,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Patient Info Update","en":{"name":"Patient Info Update","baseTestName":"Patient Info Update","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":26398,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Patient Info Update -Es","baseTestName":"Patient Info Update","suite":"Existing Patient","passed":false,"skipped":false,"failed":true,"dur":17507,"err":"element (\"~+  Add Informaci√≥n del paciente\") still not displayed after 10000ms","isSpanish":true,"status":"broken"}},{"base":"App Killed and Reopened (Offline Mode Verification)","en":{"name":"App Killed and Reopened (Offline Mode Verification)","baseTestName":"App Killed and Reopened (Offline Mode Verification)","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":58984,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"App Killed and Reopened (Offline Mode Verification) -Es","baseTestName":"App Killed and Reopened (Offline Mode Verification)","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":45884,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Patient info manual update","en":{"name":"Patient info manual update","baseTestName":"Patient info manual update","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":129861,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Patient info manual update -Es","baseTestName":"Patient info manual update","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":23186,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Transcript Verification for the First Conversation","en":{"name":"Transcript Verification for the First Conversation","baseTestName":"Transcript Verification for the First Conversation","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":13964,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Second Conversation for the New Encounter","en":{"name":"Second Conversation for the New Encounter","baseTestName":"Second Conversation for the New Encounter","suite":"Existing Patient","passed":false,"skipped":false,"failed":true,"dur":305035,"err":"element (\"~Would you like to use the previous encounter's SOAP note as context?\") still not displayed after 150000ms","isSpanish":false,"status":"broken"},"es":{"name":"Second Conversation for the New Encounter -Es","baseTestName":"Second Conversation for the New Encounter","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":113609,"err":null,"isSpanish":true,"status":"passed"}},{"base":"SOAP Note Verification for the Second Conversation","en":null,"es":{"name":"SOAP Note Verification for the Second Conversation -Es","baseTestName":"SOAP Note Verification for the Second Conversation","suite":"Existing Patient","passed":false,"skipped":false,"failed":true,"dur":168478,"err":"searchPatientPage is not defined","isSpanish":true,"status":"broken"}},{"base":"HayNoki verification","en":{"name":"HayNoki verification","baseTestName":"HayNoki verification","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":173322,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Finalize Encounter","en":null,"es":{"name":"Finalize Encounter -Es","baseTestName":"Finalize Encounter","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":14261,"err":null,"isSpanish":true,"status":"passed"}},{"base":"App Killed in Offline and Reopened in Online Mode Verification","en":{"name":"App Killed in Offline and Reopened in Online Mode Verification","baseTestName":"App Killed in Offline and Reopened in Online Mode Verification","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":57922,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"App Killed in Offline and Reopened in Online Mode Verification -Es","baseTestName":"App Killed in Offline and Reopened in Online Mode Verification","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":42099,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Trascript verification for the Second Conversation","en":null,"es":{"name":"Trascript verification for the Second Conversation -Es","baseTestName":"Trascript verification for the Second Conversation","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":17565,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Automatic Sync Verification (Offline to Online and Vice Versa)","en":{"name":"Automatic Sync Verification (Offline to Online and Vice Versa)","baseTestName":"Automatic Sync Verification (Offline to Online and Vice Versa)","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":157249,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Automatic Sync Verification (Offline to Online and Vice Versa) -Es","baseTestName":"Automatic Sync Verification (Offline to Online and Vice Versa)","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":170377,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Referal Generation and Regeneration","en":{"name":"Referal Generation and Regeneration","baseTestName":"Referal Generation and Regeneration","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":63033,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Referal Generation and Regeneration-Es","baseTestName":"Referal Generation and Regeneration","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":45297,"err":null,"isSpanish":true,"status":"passed"}},{"base":"ICD-DPT Codes Generation and Regeneration","en":null,"es":{"name":"ICD-DPT Codes Generation and Regeneration-Es","baseTestName":"ICD-DPT Codes Generation and Regeneration","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":120682,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Logout","en":{"name":"Logout","baseTestName":"Logout","suite":"Existing Patient","passed":false,"skipped":false,"failed":true,"dur":34979,"err":"element (\"~logout\") still not displayed after 10000ms","isSpanish":false,"status":"broken"},"es":{"name":"Logout -Es","baseTestName":"Logout","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":9681,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Third Conversation {Draft Creation and Completion of Draft Transcript}","en":{"name":"Third Conversation {Draft Creation and Completion of Draft Transcript}","baseTestName":"Third Conversation {Draft Creation and Completion of Draft Transcript}","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":72583,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Care plan Generation and Regeneration","en":{"name":"Care plan Generation and Regeneration","baseTestName":"Care plan Generation and Regeneration","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":75109,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Care plan Generation and Regeneration-Es","baseTestName":"Care plan Generation and Regeneration","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":109403,"err":null,"isSpanish":true,"status":"passed"}},{"base":"SOAP Note generation for the Second Conversation","en":{"name":"SOAP Note generation for the Second Conversation","baseTestName":"SOAP Note generation for the Second Conversation","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":209379,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Third Conversation (Draft Creation and Completion of Draft Transcript)","en":{"name":"Third Conversation (Draft Creation and Completion of Draft Transcript)","baseTestName":"Third Conversation (Draft Creation and Completion of Draft Transcript)","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":161379,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"SOAP Note Generation For New Encounter","en":{"name":"SOAP Note Generation For New Encounter","baseTestName":"SOAP Note Generation For New Encounter","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":201870,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"SOAP Note Generation For New Encounter-Es","baseTestName":"SOAP Note Generation For New Encounter","suite":"Existing Patient","passed":false,"skipped":false,"failed":true,"dur":169294,"err":"searchPatientPage is not defined","isSpanish":true,"status":"broken"}},{"base":"SOAP Note Generation for the Draft Conversationm","en":null,"es":{"name":"SOAP Note Generation for the Draft Conversationm-Es","baseTestName":"SOAP Note Generation for the Draft Conversationm","suite":"Existing Patient","passed":false,"skipped":false,"failed":true,"dur":168787,"err":"searchPatientPage is not defined","isSpanish":true,"status":"broken"}},{"base":"Feedback Generation and Regeneration","en":{"name":"Feedback Generation and Regeneration","baseTestName":"Feedback Generation and Regeneration","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":69363,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Feedback Generation and Regeneration-Es","baseTestName":"Feedback Generation and Regeneration","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":81440,"err":null,"isSpanish":true,"status":"passed"}},{"base":"SoapNote Regeneration","en":{"name":"SoapNote Regeneration","baseTestName":"SoapNote Regeneration","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":67880,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"SoapNote Regeneration-Es","baseTestName":"SoapNote Regeneration","suite":"Existing Patient","passed":false,"skipped":false,"failed":true,"dur":11810,"err":"element (\"~Regenerar nota SOAP\") still not displayed after 10000ms","isSpanish":true,"status":"broken"}},{"base":"SOAP Note Generation for the Draft Conversation","en":{"name":"SOAP Note Generation for the Draft Conversation","baseTestName":"SOAP Note Generation for the Draft Conversation","suite":"Existing Patient","passed":false,"skipped":false,"failed":true,"dur":173454,"err":"Can't call click on element with selector \"~Search Patients\" because element wasn't found","isSpanish":false,"status":"broken"},"es":null},{"base":"Offline Mode Stop and App Kill Verification","en":{"name":"Offline Mode Stop and App Kill Verification","baseTestName":"Offline Mode Stop and App Kill Verification","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":87601,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Offline Mode Stop and App Kill Verification -Es","baseTestName":"Offline Mode Stop and App Kill Verification","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":81919,"err":null,"isSpanish":true,"status":"passed"}},{"base":"ICD-CPT codes Generation and Regeneration","en":{"name":"ICD-CPT codes Generation and Regeneration","baseTestName":"ICD-CPT codes Generation and Regeneration","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":126726,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Finalize encounter","en":{"name":"Finalize encounter","baseTestName":"Finalize encounter","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":6603,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Transcript Verification for the Draft Conversation","en":{"name":"Transcript Verification for the Draft Conversation","baseTestName":"Transcript Verification for the Draft Conversation","suite":"Existing Patient","passed":false,"skipped":false,"failed":true,"dur":10075,"err":"element (\"~Transcript\") still not displayed after 10000ms","isSpanish":false,"status":"broken"},"es":{"name":"Transcript Verification for the Draft Conversation -Es","baseTestName":"Transcript Verification for the Draft Conversation","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":18384,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Trascript verification","en":null,"es":{"name":"Trascript verification -Es","baseTestName":"Trascript verification","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":18319,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Transcript Verification for the Second Conversation","en":{"name":"Transcript Verification for the Second Conversation","baseTestName":"Transcript Verification for the Second Conversation","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":14788,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Hay Noki verification","en":null,"es":{"name":"Hay Noki verification -Es","baseTestName":"Hay Noki verification","suite":"Existing Patient","passed":true,"skipped":false,"failed":false,"dur":76148,"err":null,"isSpanish":true,"status":"passed"}}],"stats":{"total":46,"passed":37,"failed":9,"skipped":0}},{"name":"New Patient","pairs":[{"base":"Transcript verification for the Third Conversation in First Encounter","en":{"name":"Transcript verification for the Third Conversation in First Encounter","baseTestName":"Transcript verification for the Third Conversation in First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":11975,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Transcript verification for the Third Conversation in First Encounter -Es","baseTestName":"Transcript verification for the Third Conversation in First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":74985,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Patient info manual update","en":{"name":"Patient info manual update","baseTestName":"Patient info manual update","suite":"New Patient","passed":false,"skipped":false,"failed":true,"dur":174647,"err":"element (\"~O negative\") still not displayed after 150000ms","isSpanish":false,"status":"broken"},"es":null},{"base":"Automatic Sync Verification (Offline to Online and Vice Versa) for the First Encounter","en":{"name":"Automatic Sync Verification (Offline to Online and Vice Versa) for the First Encounter","baseTestName":"Automatic Sync Verification (Offline to Online and Vice Versa) for the First Encounter","suite":"New Patient","passed":false,"skipped":false,"failed":true,"dur":72593,"err":"element (\"~No transcript available in offline mode\") still not displayed after 10000ms","isSpanish":false,"status":"broken"},"es":{"name":"Automatic Sync Verification (Offline to Online and Vice Versa) for the First Encounter -Es","baseTestName":"Automatic Sync Verification (Offline to Online and Vice Versa) for the First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":166816,"err":null,"isSpanish":true,"status":"passed"}},{"base":"App Killed and Reopened (Offline Mode Verification) for the First Encounter","en":{"name":"App Killed and Reopened (Offline Mode Verification) for the First Encounter","baseTestName":"App Killed and Reopened (Offline Mode Verification) for the First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":49099,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"App Killed and Reopened (Offline Mode Verification) for the First Encounter -Es","baseTestName":"App Killed and Reopened (Offline Mode Verification) for the First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":61823,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Care plan Generation and Regeneration","en":{"name":"Care plan Generation and Regeneration","baseTestName":"Care plan Generation and Regeneration","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":54507,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"SOAP Note Verification for the Second Conversation for the First Encounter","en":null,"es":{"name":"SOAP Note Verification for the Second Conversation for the First Encounter -Es","baseTestName":"SOAP Note Verification for the Second Conversation for the First Encounter","suite":"New Patient","passed":false,"skipped":false,"failed":true,"dur":170445,"err":"searchPatientPage is not defined","isSpanish":true,"status":"broken"}},{"base":"Third Conversation (Draft Creation and Completion of Draft Transcript) for the First Encounter","en":{"name":"Third Conversation (Draft Creation and Completion of Draft Transcript) for the First Encounter","baseTestName":"Third Conversation (Draft Creation and Completion of Draft Transcript) for the First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":145748,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Third Conversation (Draft Creation and Completion of Draft Transcript) for the First Encounter -Es","baseTestName":"Third Conversation (Draft Creation and Completion of Draft Transcript) for the First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":142173,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Transcript verification for the first Encounter","en":{"name":"Transcript verification for the first Encounter","baseTestName":"Transcript verification for the first Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":11601,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Transcript verification for the first Encounter -Es","baseTestName":"Transcript verification for the first Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":18214,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Patient Creation","en":{"name":"Patient Creation","baseTestName":"Patient Creation","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":109454,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Patient Creation -Es","baseTestName":"Patient Creation","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":96507,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Patient info update","en":{"name":"Patient info update","baseTestName":"Patient info update","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":22089,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Second Conversation for the First Encounter","en":{"name":"Second Conversation for the First Encounter","baseTestName":"Second Conversation for the First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":141754,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Second Conversation for the First Encounter -Es","baseTestName":"Second Conversation for the First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":141828,"err":null,"isSpanish":true,"status":"passed"}},{"base":"HayNoki update","en":{"name":"HayNoki update","baseTestName":"HayNoki update","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":35611,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"SOAP Note Generation for the Draft Conversation in the First Encounter","en":{"name":"SOAP Note Generation for the Draft Conversation in the First Encounter","baseTestName":"SOAP Note Generation for the Draft Conversation in the First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":196272,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Offline Mode Stop and App Kill Verification for the First Encounter","en":{"name":"Offline Mode Stop and App Kill Verification for the First Encounter","baseTestName":"Offline Mode Stop and App Kill Verification for the First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":75810,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Offline Mode Stop and App Kill Verification for the First Encounter -Es","baseTestName":"Offline Mode Stop and App Kill Verification for the First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":89951,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Finalize encounter","en":{"name":"Finalize encounter","baseTestName":"Finalize encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":6185,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Finalize encounter -Es","baseTestName":"Finalize encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":15435,"err":null,"isSpanish":true,"status":"passed"}},{"base":"SoapNote Regeneration","en":{"name":"SoapNote Regeneration","baseTestName":"SoapNote Regeneration","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":48053,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Feedback Generation and Regeneration","en":{"name":"Feedback Generation and Regeneration","baseTestName":"Feedback Generation and Regeneration","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":67030,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Hay Noki update","en":null,"es":{"name":"Hay Noki update -Es","baseTestName":"Hay Noki update","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":116281,"err":null,"isSpanish":true,"status":"passed"}},{"base":"App Killed in Offline and Reopened in Online Mode Verification for the First Encounter","en":{"name":"App Killed in Offline and Reopened in Online Mode Verification for the First Encounter","baseTestName":"App Killed in Offline and Reopened in Online Mode Verification for the First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":53387,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"App Killed in Offline and Reopened in Online Mode Verification for the First Encounter -Es","baseTestName":"App Killed in Offline and Reopened in Online Mode Verification for the First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":58742,"err":null,"isSpanish":true,"status":"passed"}},{"base":"SOAP Note generation for the Second Conversation in First Encounter","en":{"name":"SOAP Note generation for the Second Conversation in First Encounter","baseTestName":"SOAP Note generation for the Second Conversation in First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":196583,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Referal Generation and Regeneration","en":{"name":"Referal Generation and Regeneration","baseTestName":"Referal Generation and Regeneration","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":46455,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"SOAP Note Generation for the First Encounter","en":{"name":"SOAP Note Generation for the First Encounter","baseTestName":"SOAP Note Generation for the First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":195910,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"SOAP Note Generation for the First Encounter -Es","baseTestName":"SOAP Note Generation for the First Encounter","suite":"New Patient","passed":false,"skipped":false,"failed":true,"dur":169025,"err":"searchPatientPage is not defined","isSpanish":true,"status":"broken"}},{"base":"ICD-CPT codes Generation and Regeneration","en":{"name":"ICD-CPT codes Generation and Regeneration","baseTestName":"ICD-CPT codes Generation and Regeneration","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":132562,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"SOAP Note Generation for the Draft Conversation for the First Encounter","en":null,"es":{"name":"SOAP Note Generation for the Draft Conversation for the First Encounter -Es","baseTestName":"SOAP Note Generation for the Draft Conversation for the First Encounter","suite":"New Patient","passed":false,"skipped":false,"failed":true,"dur":169867,"err":"searchPatientPage is not defined","isSpanish":true,"status":"broken"}},{"base":"Transcript Verification for the Second Conversation for the First Encounter","en":null,"es":{"name":"Transcript Verification for the Second Conversation for the First Encounter -Es","baseTestName":"Transcript Verification for the Second Conversation for the First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":42838,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Transcript verification for the Second Conversation in First Encounter","en":{"name":"Transcript verification for the Second Conversation in First Encounter","baseTestName":"Transcript verification for the Second Conversation in First Encounter","suite":"New Patient","passed":true,"skipped":false,"failed":false,"dur":11749,"err":null,"isSpanish":false,"status":"passed"},"es":null}],"stats":{"total":37,"passed":32,"failed":5,"skipped":0}},{"name":"Settings","pairs":[{"base":"Verify Setting's screen support_Verification","en":{"name":"Verify Setting's screen support_Verification ","baseTestName":"Verify Setting's screen support_Verification","suite":"Settings","passed":true,"skipped":false,"failed":false,"dur":24809,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Verify Setting's screen launguage and general settings","en":{"name":"Verify Setting's screen launguage and general settings","baseTestName":"Verify Setting's screen launguage and general settings","suite":"Settings","passed":true,"skipped":false,"failed":false,"dur":15037,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Verify Setting's screen general settings","en":{"name":"Verify Setting's screen general settings","baseTestName":"Verify Setting's screen general settings","suite":"Settings","passed":true,"skipped":false,"failed":false,"dur":51651,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Verify Settings screen Profille Edit #Skipped:-proffile edit is skipped due to Known Issue, related to Api change","en":{"name":"Verify Settings screen Profille Edit #Skipped:-proffile edit is skipped due to Known Issue, related to Api change","baseTestName":"Verify Settings screen Profille Edit #Skipped:-proffile edit is skipped due to Known Issue, related to Api change","suite":"Settings","passed":false,"skipped":true,"failed":false,"dur":1,"err":null,"isSpanish":false,"status":"skipped"},"es":null}],"stats":{"total":4,"passed":3,"failed":0,"skipped":1}},{"name":"Login","pairs":[{"base":"Login Error message verification: \"Password not Provided\"","en":{"name":"Login Error message verification: \"Password not Provided\"","baseTestName":"Login Error message verification: \"Password not Provided\"","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":14183,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Login with correct credential and verify Home screen animation","en":null,"es":{"name":"Login with correct credential and verify Home screen animation -Es","baseTestName":"Login with correct credential and verify Home screen animation","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":18016,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Login Error message verification: \"password not provided\"","en":null,"es":{"name":"Login Error message verification: \"password not provided\" -Es ","baseTestName":"Login Error message verification: \"password not provided\"","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":15277,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Login Error message verification: \"unregistered mail\"","en":{"name":"Login Error message verification: \"unregistered mail\"","baseTestName":"Login Error message verification: \"unregistered mail\"","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":8161,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Login Error message verification: \"unregistered mail\" -Es","baseTestName":"Login Error message verification: \"unregistered mail\"","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":8763,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Login Error message verifcation: \"invalid Email\"","en":null,"es":{"name":"Login Error message verifcation: \"invalid Email\" -Es","baseTestName":"Login Error message verifcation: \"invalid Email\"","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":9370,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Login Error message verification: \"Email not provided\"","en":null,"es":{"name":"Login Error message verification: \"Email not provided\" -Es","baseTestName":"Login Error message verification: \"Email not provided\"","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":8758,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Login Error message verification: \"wrong password\"","en":{"name":"Login Error message verification: \"wrong password\"","baseTestName":"Login Error message verification: \"wrong password\"","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":16394,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Login Error message verification: \"Wrong password\"","en":null,"es":{"name":"Login Error message verification: \"Wrong password\" -Es","baseTestName":"Login Error message verification: \"Wrong password\"","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":17651,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Login Error message verification: \"short password\"","en":null,"es":{"name":"Login Error message verification: \"short password\" -Es","baseTestName":"Login Error message verification: \"short password\"","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":16011,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Login with correct credentials & verify Home screen","en":{"name":"Login with correct credentials & verify Home screen","baseTestName":"Login with correct credentials & verify Home screen","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":26942,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Login Error message verification: \"short Password\"","en":{"name":"Login Error message verification: \"short Password\"","baseTestName":"Login Error message verification: \"short Password\"","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":17057,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Login Error messge verification: \"Email is not provided\"","en":{"name":"Login Error messge verification: \"Email is not provided\"","baseTestName":"Login Error messge verification: \"Email is not provided\"","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":8840,"err":null,"isSpanish":false,"status":"passed"},"es":null},{"base":"Login Error message verification: \"invalid Email\"","en":{"name":"Login Error message verification: \"invalid Email\"","baseTestName":"Login Error message verification: \"invalid Email\"","suite":"Login","passed":true,"skipped":false,"failed":false,"dur":9080,"err":null,"isSpanish":false,"status":"passed"},"es":null}],"stats":{"total":14,"passed":14,"failed":0,"skipped":0}},{"name":"Forgot Password","pairs":[{"base":"Error message verification: \"Invalid Email\"","en":{"name":"Error message verification: \"Invalid Email\"","baseTestName":"Error message verification: \"Invalid Email\"","suite":"Forgot Password","passed":true,"skipped":false,"failed":false,"dur":9983,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Error message verification: \"Invalid Email\" -Es","baseTestName":"Error message verification: \"Invalid Email\"","suite":"Forgot Password","passed":true,"skipped":false,"failed":false,"dur":11509,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Error message verification: \"Email is not rigisterd\"","en":{"name":"Error message verification: \"Email is not rigisterd\"","baseTestName":"Error message verification: \"Email is not rigisterd\"","suite":"Forgot Password","passed":true,"skipped":false,"failed":false,"dur":12238,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Error message verification: \"Email is not rigisterd\" -Es","baseTestName":"Error message verification: \"Email is not rigisterd\"","suite":"Forgot Password","passed":true,"skipped":false,"failed":false,"dur":14490,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Error message verifcation: \"Email not Enterd\"","en":{"name":"Error message verifcation: \"Email not Enterd\"","baseTestName":"Error message verifcation: \"Email not Enterd\"","suite":"Forgot Password","passed":true,"skipped":false,"failed":false,"dur":10356,"err":null,"isSpanish":false,"status":"passed"},"es":{"name":"Error message verifcation: \"Email not Enterd\" -Es","baseTestName":"Error message verifcation: \"Email not Enterd\"","suite":"Forgot Password","passed":true,"skipped":false,"failed":false,"dur":11516,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Verify Reset Password mail generation","en":null,"es":{"name":"Verify Reset Password mail generation -Es","baseTestName":"Verify Reset Password mail generation","suite":"Forgot Password","passed":true,"skipped":false,"failed":false,"dur":35565,"err":null,"isSpanish":true,"status":"passed"}},{"base":"Verify Rest Password mail generation","en":{"name":"Verify Rest Password mail generation","baseTestName":"Verify Rest Password mail generation","suite":"Forgot Password","passed":true,"skipped":false,"failed":false,"dur":21993,"err":null,"isSpanish":false,"status":"passed"},"es":null}],"stats":{"total":8,"passed":8,"failed":0,"skipped":0}},{"name":"Setting","pairs":[{"base":"Verify Setting's screen general settings","en":{"name":"Verify Setting's screen general settings ","baseTestName":"Verify Setting's screen general settings","suite":"Setting","passed":true,"skipped":false,"failed":false,"dur":37539,"err":null,"isSpanish":false,"status":"passed"},"es":null}],"stats":{"total":1,"passed":1,"failed":0,"skipped":0}},{"name":"","pairs":[{"base":"Test Case - Note Search","en":{"name":"Test Case - Note Search","baseTestName":"Test Case - Note Search","suite":"","passed":true,"skipped":false,"failed":false,"dur":6,"err":null,"isSpanish":false,"status":"passed"},"es":null}],"stats":{"total":1,"passed":1,"failed":0,"skipped":0}}],"stats":{"total":111,"passed":96,"failed":14,"skipped":1},"meta":{"platform":"iOS","reportDate":"2/24/2026, 10:58:09 AM","reportTS":"2026-02-24T05:28:09.970Z"}};

function sc(t){
  if(!t)return'';
  if(t.skipped)return'skipped';
  if(t.passed)return'passed';
  if(t.failed)return'failed';
  return'';
}
function slIcon(t){
  if(!t)return'';
  if(t.skipped)return'&#8855; SKIP';
  if(t.passed)return'&#10003; PASS';
  if(t.failed)return'&#10007; FAIL';
  return'';
}
function errTip(t){
  if(!t||!t.failed||!t.err)return'';
  var safe=t.err.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
  return'<span class="err-tip">'+safe+'</span>';
}

var suitesCont=document.getElementById('suites');
var rowIdx=0;

D.suites.forEach(function(suite,si){
  var name=suite.name, pairs=suite.pairs, stats=suite.stats;
  var block=document.createElement('div');
  block.className='sblock';
  block.setAttribute('data-si',si);

  var failPill=stats.failed ?'<span class="pill f">&#10007; '+stats.failed+' failed</span>':'';
  var skipPill=stats.skipped?'<span class="pill s">&#8855; '+stats.skipped+' skipped</span>':'';

  block.innerHTML=
    '<div class="shdr" onclick="toggle('+si+')">'+
      '<div class="chev"><svg width="9" height="9" viewBox="0 0 9 9" fill="none"><path d="M2 1.5L6.5 4.5L2 7.5" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg></div>'+
      '<div class="sname">'+name+'</div>'+
      '<div class="pills-c">'+
        '<span class="pill t">'+stats.total+' tests</span>'+
        '<span class="pill p">&#10003; '+stats.passed+'</span>'+
      '</div>'+
      '<div class="pills-e">'+
        '<span class="pill t">'+stats.total+' total</span>'+
        '<span class="pill p">&#10003; '+stats.passed+' passed</span>'+
        failPill+skipPill+
      '</div>'+
    '</div>';

  var body=document.createElement('div');
  body.className='sbody';

  var table=document.createElement('table');
  table.className='ttbl';
  table.innerHTML='<thead><tr><th>Test Case</th><th>English</th><th>Spanish</th><th>Comments</th></tr></thead>';

  var tbody=document.createElement('tbody');

  pairs.forEach(function(pair){
    var base=pair.base, en=pair.en, es=pair.es;
    var key=rowIdx++;
    var enSC=sc(en), esSC=sc(es);

    var tr=document.createElement('tr');
    tr.setAttribute('data-k',key);
    tr.setAttribute('data-en',enSC);
    tr.setAttribute('data-es',esSC);

    var enHTML = en ? '<span class="sb '+enSC+'">'+slIcon(en)+errTip(en)+'</span>' : '';
    var esHTML = es ? '<span class="sb '+esSC+'">'+slIcon(es)+errTip(es)+'</span>' : '';

    tr.innerHTML=
      '<td class="tname">'+base+'</td>'+
      '<td>'+enHTML+'</td>'+
      '<td>'+esHTML+'</td>'+
      '<td><input class="ci" type="text" data-k="'+key+'" placeholder="Add comment" oninput="saveC('+key+',this.value)"/></td>';

    tbody.appendChild(tr);
  });

  table.appendChild(tbody);
  body.appendChild(table);
  block.appendChild(body);
  suitesCont.appendChild(block);
});

document.getElementById('sTotal').textContent=D.stats.total;
document.getElementById('sPassed').textContent=D.stats.passed;
document.getElementById('sFailed').textContent=D.stats.failed;
document.getElementById('sSkipped').textContent=D.stats.skipped;
document.getElementById('hdrMeta').textContent='Platform: '+D.meta.platform+'  |  Generated: '+D.meta.reportDate;

function toggle(si){
  document.querySelector('.sblock[data-si="'+si+'"]').classList.toggle('open');
}
function expandAll(){
  document.querySelectorAll('.sblock:not(.gone)').forEach(function(b){b.classList.add('open');});
}
function collapseAll(){
  document.querySelectorAll('.sblock').forEach(function(b){b.classList.remove('open');});
}

function setF(f){
  document.querySelectorAll('.fbtn').forEach(function(b){b.classList.toggle('on',b.getAttribute('data-f')===f);});
  var vis=0;
  document.querySelectorAll('.sblock').forEach(function(block){
    var hits=0;
    block.querySelectorAll('tbody tr').forEach(function(row){
      var enS=row.getAttribute('data-en'), esS=row.getAttribute('data-es');
      var show=
        f==='all'    ?true:
        f==='passed' ?(enS==='passed' ||esS==='passed'):
        f==='failed' ?(enS==='failed' ||esS==='failed'):
        f==='skipped'?(enS==='skipped'||esS==='skipped'):true;
      row.classList.toggle('hide',!show);
      if(show)hits++;
    });
    var hide=hits===0;
    block.classList.toggle('gone',hide);
    if(!hide){vis++;block.classList.add('open');}
  });
  document.getElementById('nores').classList.toggle('show',vis===0);
}

function saveC(k,v){
  try{
    localStorage.setItem('c_'+k,v);
    var el=document.getElementById('sind');
    el.classList.add('show');
    clearTimeout(el._t);
    el._t=setTimeout(function(){el.classList.remove('show');},1800);
  }catch(e){}
}
function loadC(){
  document.querySelectorAll('.ci').forEach(function(inp){
    var v=localStorage.getItem('c_'+inp.getAttribute('data-k'));
    if(v)inp.value=v;
  });
}
function exportCSV(){
  function esc(s){return'"'+String(s).replace(/"/g,'""')+'"';}
  var rows=[['Suite','Test Case','English','Spanish','Comment']];
  var k=0;
  D.suites.forEach(function(suite){
    suite.pairs.forEach(function(pair){
      var en=pair.en,es=pair.es;
      var enStat = en ? (en.skipped?'SKIP':en.passed?'PASS':'FAIL') : '';
      var esStat = es ? (es.skipped?'SKIP':es.passed?'PASS':'FAIL') : '';
      var comment=localStorage.getItem('c_'+k)||'';
      rows.push([suite.name,pair.base,enStat,esStat,comment]);
      k++;
    });
  });
  var csv=rows.map(function(r){return r.map(esc).join(',');}).join('\n');
  var blob=new Blob([csv],{type:'text/csv;charset=utf-8;'});
  var url=URL.createObjectURL(blob);
  var a=document.createElement('a');
  a.href=url;
  a.download='test-report-'+D.meta.reportTS.split('T')[0]+'.csv';
  document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);
}
window.addEventListener('load',loadC);

</script>
</body>
</html>
